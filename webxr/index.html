<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>WebRTC VR RDP</title>
  <script id='script-aframe' src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script id='script-xylayout' src="https://binzume.github.io/aframe-xylayout/dist/xylayout-all.min.js"></script>
  <script id='script-xyresize' src="https://binzume.github.io/aframe-xylayout/experimental/xyresize.js"></script>
  <script id='ayane-web-sdk' src="https://cdn.jsdelivr.net/npm/@open-ayame/ayame-web-sdk@2020.3.0/dist/ayame.js"></script>
  <script src="aframe-rdp.js"></script>
</head>

<body style="background-color: black; color:white;">
  <a-scene cursor="rayOrigin: mouse; fuse:false" raycaster="objects:.collidable,a-rounded;far:5500" renderer="antialias: true;">
    <a-assets>
      <img id="rdp-icons" src="images/icons.png" />
      <img id="rdp-loading" src="images/loading.png" />
    </a-assets>

    <a-xywindow id="app" title="RDP Window" webrtc-rdp="settingName:webrtc-rdp-settings" xyresize="minWidth:10" scale='0.2 0.2 0.2' width="10" height="6" position="0 1 -4" xy-drag-control="draggable:[name=screen];autoRotate:true" xycontainer="direction:column">
      <a-video name="screen" width="10" height="6" src="#rdp-loading" material="npot:true;shader: flat;"></a-video>
      <a-entity xyrect="height:0">
      <a-xycontainer class="control" direction="column" width="8" height="2" position="0 1.1 0.05">
        <a-entity xyitem="fixed:true" geometry="primitive:xy-rounded-rect;width:8;height:2" position="0 0 -0.02" material="color:#444; opacity:0.8"></a-entity>
        <a-xycontainer direction="row" width="4" height="1" spacing="0.2" justify-items="space-between">
          <a-xyselect name="roomSelect" width="1" height="0.8" toggle="true" select="0" values="1,2,3,4"></a-xyselect>
          <a-xybutton name="connectButton" width="2" height="0.8">
            <a-xylabel width="1.8" height="0.5" wrap-count="9" value="Connect!"></a-xylabel>
          </a-xybutton>
        </a-xycontainer>
      </a-xycontainer>
      </a-entity>
    </a-xywindow>

    <a-entity id="camera-rig" position-controls="arrowkeys:rotation;wasdkeys:translation">
      <a-camera position="0 1.5 0" look-controls="enabled:false"></a-camera>
      <a-entity laser-controls="hand: right" raycaster="far:Infinity;objects:.collidable,.clickable,a-rounded" line="color: #3060a0; opacity: 0.5"></a-entity>
      <a-entity laser-controls="hand: left" raycaster="far:Infinity;objects:.collidable,.clickable,a-rounded" line="color: #3060a0; opacity: 0.5"></a-entity>
    </a-entity>

  </a-scene>

  <div style="position:absolute;top:10pt;right:10pt;width:60pt;background-color:white;border-radius:4pt;text-align:center;">
    <a href="https://github.com/binzume/vr-workspace">GitHub</a>
  </div>

</body>

</html>
