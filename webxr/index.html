<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>WebRTC VR RDP</title>
  <script id='script-aframe' src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script id='script-xylayout' src="https://binzume.github.io/aframe-xylayout/dist/xylayout-all.min.js"></script>
  <script id='script-xyresize' src="https://binzume.github.io/aframe-xylayout/experimental/xyresize.js"></script>
  <script id='ayane-web-sdk' src="https://cdn.jsdelivr.net/npm/@open-ayame/ayame-web-sdk@2020.3.0/dist/ayame.js"></script>
  <script src="aframe-rdp.js"></script>
</head>

<body style="background-color: black; color:white;">
  <a-scene cursor="rayOrigin: mouse; fuse:false" raycaster="objects:.collidable;far:5500" renderer="antialias: true;">
    <a-assets>
      <img id="rdp-loading" src="images/loading.png" crossorigin="anonymous" />
    </a-assets>

    <a-xywindow id="app" title="WebRTC RDP" webrtc-rdp="settingIndex:0" xyresize="" scale='0.2 0.2 0.2' width="8" height="4.5" position="0 1.5 -1.5" xycontainer="direction:column">
      <a-video name="screen" class="collidable" width="8" height="4.5" src="#rdp-loading" material="npot:true;shader: flat;"></a-video>
      <a-entity xyrect="height:0">
        <a-xycontainer class="control" width="5" height="0.7" position="0 -0.4 0.05" direction="row" spacing="0.1" justify-items="center">
        <a-entity xyitem="fixed:true" geometry="primitive:xy-rounded-rect;width:5;height:0.7" position="0 0 -0.02" material="color:#444; opacity:0.8"></a-entity>
          <a-xybutton name="roomPrev" width="0.5" height="0.6" label="&lt;"></a-xybutton>
          <a-xylabel name="roomName" width="2.0" height="0.6"  value="room"></a-xylabel>
          <a-xybutton name="roomNext" width="0.5" height="0.6" label="&gt;"></a-xybutton>
          <a-xybutton name="connectButton" width="1.4" height="0.6" label="Connect"></a-xybutton>
        </a-xycontainer>
      </a-entity>
    </a-xywindow>

    <a-entity id="camera-rig" >
      <a-camera position="0 1.5 0" look-controls="enabled:false"></a-camera>
      <a-entity laser-controls="hand: right" raycaster="far:Infinity;objects:.collidable" line="color: #3060a0; opacity: 0.5"></a-entity>
      <a-entity laser-controls="hand: left" raycaster="far:Infinity;objects:.collidable" line="color: #3060a0; opacity: 0.5"></a-entity>
    </a-entity>

  </a-scene>

  <div style="position:absolute;top:10pt;right:10pt;width:60pt;background-color:white;border-radius:4pt;text-align:center;">
    <a href="https://github.com/binzume/vr-workspace">GitHub</a>
  </div>

</body>

</html>
